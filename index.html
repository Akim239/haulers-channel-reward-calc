<!DOCTYPE html>

<head>
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
  <script>
    $(document).ready(function(){
      $('.calculate').click(function() {
        var collateral = $('#collateral').val();
        var m3 = $('#m3').val();
        var jumps = $('#jumps').val();
        var reward = 0;
        var min_jump = 0;
        // Shamelessly ripped from stack overflow
        function numberWithCommas(x) {
          return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        // Min Jump
        if (jumps <= 10) {
          min_jump = 1000000;
        } else {
          if (jumps <= 15) {
            min_jump = 750000;
          } else {
            if (jumps <= 25) {
              min_jump = 500000;
            } else {
              min_jump = 250000;
            }
          }
        }
        // Reward
        if (collateral * 0.001 < min_jump) {
          reward = min_jump * jumps;
        } else {
          reward = collateral * 0.001 * jumps;
        }
        
        // Editing values
        $('#normal_reward').text(numberWithCommas(reward));
        $('#special_reward').text(numberWithCommas(reward * 2));
        $('#normal_reward_ipj').text(numberWithCommas(reward / jumps));
        $('#special_reward_ipj').text(numberWithCommas((reward * 2) / jumps));
      });
    });
  </script>
</head>
<body>
  <div class="container">
    <div class="row">
      <form class="col s12">
        <div class="row">
          <div class="input-field col s6">
            <input id="collateral" type="text" class="validate">
            <label for="collateral">Collateral</label>
          </div>
          <div class="input-field col s6">
            <input id="jumps" type="text" class="validate">
            <label for="jumps"># of Jumps</label>
          </div>
        </div>
      </form>
      <a class="waves-effect waves-light btn col s12 calculate">Calculate!</a>
      <hr>
      <div class="col s6">
        <h1>Normal Delivery / Highsec Reward:</h1>
        <h3 id="normal_reward"></h3>
        <hr>
        <h2>Isk Per Jump:</h2>
        <h3 id="normal_reward_ipj"></h3>
      </div>
      <div class="col s6">
        <h1>Rush Delivery / Lowsec Reward:</h1>
        <h3 id="special_reward"></h3>
        <hr>
        <h2>Isk Per Jump:</h2>
        <h3 id="special_reward_ipj"></h3>
      </div>
  </div>
  </div>
   <footer class="page-footer">
          <div class="footer-copyright">
            <div class="container">
              (Being) Developed by Rashad Charante, Commissioned By Rita Jita
            </div>
          </div>
        </footer>
</body>
